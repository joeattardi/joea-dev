---
const { href } = Astro.props;
const targetUrl = new URL(href, Astro.url.href);
const isActive = Astro.url.pathname.startsWith(targetUrl.pathname);
---

<li class="relative">
    <a
        href={href}
        class:list={[
            'group relative block px-5 py-2.5 md:px-4 md:py-2 font-medium text-4xl md:text-sm tracking-wide no-underline',
            'rounded-xl transition-all duration-300 ease-out',
            'text-zinc-800 hover:text-zinc-950',
            'dark:text-zinc-200 dark:hover:text-white',
            'hover:bg-zinc-100 hover:shadow-sm hover:border-zinc-300',
            'dark:hover:bg-zinc-600/70 dark:hover:border-zinc-500',
            'border border-transparent',
            'active:scale-[0.98] active:shadow-none',
            {
                'text-zinc-900 dark:text-zinc-100 bg-zinc-200/80 dark:bg-zinc-600/60 shadow-sm border-zinc-300 dark:border-zinc-500': isActive
            }
        ]}
    >
        <span class="relative z-10"><slot /></span>
        <span
            class:list={[
                'absolute inset-0 rounded-xl opacity-0 transition-opacity duration-300',
                'bg-linear-to-r from-cyan-500/10 to-blue-500/10',
                'dark:from-cyan-400/15 dark:to-blue-400/15',
                'group-hover:opacity-100',
                { 'opacity-100': isActive }
            ]}
        ></span>
    </a>
</li>
