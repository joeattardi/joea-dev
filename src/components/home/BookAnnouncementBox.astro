---
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import BentoBox from '../BentoBox.astro';
import modernCssCover from '../../assets/books/modern-css.jpg';
---

<BentoBox variant="cta" animationDelay={150} class="col-span-2! md:col-span-6! bg-linear-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-700 dark:via-purple-700 dark:to-pink-700 text-white overflow-hidden relative">
    <div class="absolute -right-20 -top-20 w-64 h-64 bg-white/10 rounded-full blur-3xl"></div>
    <div class="absolute -left-10 -bottom-10 w-48 h-48 bg-white/10 rounded-full blur-3xl"></div>
    <div class="relative flex items-center">
        <!-- Book Cover - Full Height, Rotated & Cropped -->
        <div class="hidden sm:block relative w-36 md:w-44 shrink-0 self-stretch overflow-visible">
            <div class="absolute left-0 md:-left-2 top-1/2 -translate-y-1/2 w-32 md:w-40 -rotate-12 shadow-2xl rounded-lg overflow-hidden ring-2 ring-white/30">
                <Image
                    src={modernCssCover}
                    alt="Modern CSS Second Edition book cover"
                    class="w-full h-auto"
                />
            </div>
        </div>
        <!-- Text Content -->
        <div class="flex-1 min-w-0 py-4 md:py-6 pl-4 sm:pl-0 pr-4">
            <p class="text-xs font-medium text-white/80 uppercase tracking-wide mb-0.5">New Release</p>
            <h2 class="text-lg md:text-xl font-bold font-serif truncate">Modern CSS Second Edition</h2>
            <p class="text-xs md:text-sm text-white/90 mt-1 line-clamp-1">Now available with updated techniques and new chapters!</p>
        </div>
        <!-- CTA Button -->
        <a href="https://moderncss.cc" target="_blank" rel="noopener noreferrer" class="shrink-0 inline-flex items-center justify-center gap-2 px-4 md:px-6 py-2 md:py-3 mr-4 md:mr-6 bg-white hover:bg-white/90 text-purple-700 font-semibold rounded-xl transition-all hover:scale-105 shadow-lg text-sm md:text-base">
            <span class="hidden xs:inline">Get the Book</span>
            <span class="xs:hidden">View</span>
            <Icon name="ph:arrow-right-bold" class="w-4 h-4 md:w-5 md:h-5" />
        </a>
    </div>
</BentoBox>
