---
import BentoBox from '../BentoBox.astro';
import type { Post } from '../../lib/schema';

interface Props {
    post: Post;
}

const { post } = Astro.props;

const publishedDate = new Date(post.publishedAt).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
});
---

<BentoBox variant="contact" animationDelay={400} class="col-span-2! md:col-span-4! bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm overflow-hidden">
    <a href={`/blog/${post.slug}`} class="block h-full hover:opacity-90 transition-opacity">
        <div class="relative">
            <img
                src={post.coverImage.url}
                alt={post.title}
                class="w-full h-40 md:h-48 object-cover"
            />
            <div class="absolute top-0 left-0 right-0 p-6 bg-linear-to-b from-black/70 to-transparent">
                <h2 class="text-2xl md:text-3xl font-bold font-serif text-white drop-shadow-lg">From the Blog</h2>
            </div>
        </div>
        <div class="p-6">
            <h3 class="text-lg md:text-xl font-bold font-serif mb-2 line-clamp-2">{post.title}</h3>
            <p class="text-sm text-zinc-600 dark:text-zinc-400 line-clamp-2 mb-3">{post.brief}</p>
            <time class="text-xs text-zinc-500 dark:text-zinc-500" datetime={post.publishedAt}>
                {publishedDate}
            </time>
        </div>
    </a>
</BentoBox>
